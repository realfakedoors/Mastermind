<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <title>MASTERMIND</title>
  </head>
  <body>
    <h1 class="title">MASTERMIND</h1>
    <a href="https://en.wikipedia.org/wiki/Mastermind_(board_game)#Gameplay_and_rules" class="how-to-play" target="_blank">How to Play</a><br>
    
    <div id="game_container">
      
      <table id="game_board">
        <%  colored_pegs.each_with_index do |row, i| %>

          <tr>

            <td class='colored_pegs'>
              <% row.each do |peg| %>
                <% color = peg.to_s %>
                <span class="display_peg <%= color %>"></span>
              <% end %>
            </td>

            <td class='bw_pegs'>
              <% this_bw_row = black_white_pegs[i] %>
              <% this_bw_row.each do |peg| %>
                <% color = peg.to_s %>
                <span class="feedback_peg <%= color %>"></span>
              <% end %>
            </td>

          </tr>

        <% end %>

        <% current_row = colored_pegs.length %>
        <% until current_row == 12 %>

          <tr>

            <td class='colored_pegs'>
              <% 4.times do %>
                <span class='display_peg'></span>
              <% end %>
            </td>

            <td class='bw_pegs'>
              <% 4.times do %>
                <span class='feedback_peg'></span>
              <% end %>
            </td>

          </tr>

        <% current_row += 1 %>
        <% end %>
      </table>
      
      <form class="entry_field" action="/" method="post">
        
        <h2 class="enter_your_guess">Enter your guess:</h2> 
        
        <% input_pegs = ["first-peg", "second-peg", "third-peg", "fourth-peg"] %>
        <% peg_colors = ["red", "blue", "cyan", "magenta", "yellow", "green"] %>
        <% input_pegs.each do |peg| %>
        
        <div class="peg-selector">
          
          <% peg_colors.each do |color| %>
          
          <label class="container">
            <input type="radio" name=<%= peg %> value=<%= color %>>
            <span class="<%= color %> peg"></span>
          </label>
          
          <% end %>
          
        </div>
        
        <% end %>
        
        <br><input class="submit-button" type="submit" value="Guess!"/>
        
      </form>
      
    </div>
  </body>
</html>
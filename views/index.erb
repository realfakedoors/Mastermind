<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <title>MASTERMIND</title>
  </head>
  <body>
    <h1 class="title">MASTERMIND</h1>
    <a href="https://en.wikipedia.org/wiki/Mastermind_(board_game)#Gameplay_and_rules" class="how-to-play" target="_blank">How to Play</a><br>
    <div id="game_container">
      <table id="game_board">
        <%  colored_pegs.each_with_index do |row, i| %>

          <tr>

            <td class='colored_pegs'>
              <% row.each do |peg| %>
                <% color = peg.to_s %>
                <span class="display_peg <%= color %>"></span>
              <% end %>
            </td>

            <td class='bw_pegs'>
              <% this_bw_row = black_white_pegs[i] %>
              <% this_bw_row.each do |peg| %>
                <% color = peg.to_s %>
                <span class="feedback_peg <%= color %>"></span>
              <% end %>
            </td>

          </tr>

        <% end %>

        <% current_row = colored_pegs.length %>
        <% until current_row == 12 %>

          <tr>

            <td class='colored_pegs'>
              <% 4.times do %>
                <span class='display_peg'></span>
              <% end %>
            </td>

            <td class='bw_pegs'>
              <% 4.times do %>
                <span class='feedback_peg'></span>
              <% end %>
            </td>

          </tr>

        <% current_row += 1 %>
        <% end %>
      </table>
      <h1 class="enter_your_guess">Enter your guess:</h1>
      <form action="/" method="post">
        <div class="peg-selector">
          <label class="container">
            <input type="radio" name="first-peg" value="red">
            <span class="red peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="first-peg" value="blue">
            <span class="blue peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="first-peg" value="cyan">
            <span class="cyan peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="first-peg" value="magenta">
            <span class="magenta peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="first-peg" value="yellow">
            <span class="yellow peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="first-peg" value="green">
            <span class="green peg"></span>
          </label>
        </div>
        <div class="peg-selector">
          <label class="container">
            <input type="radio" name="second-peg" value="red">
            <span class="red peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="second-peg" value="blue">
            <span class="blue peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="second-peg" value="cyan">
            <span class="cyan peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="second-peg" value="magenta">
            <span class="magenta peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="second-peg" value="yellow">
            <span class="yellow peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="second-peg" value="green">
            <span class="green peg"></span>
          </label>
         </div>
         <div class="peg-selector">
          <label class="container">
            <input type="radio" name="third-peg" value="red">
            <span class="red peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="third-peg" value="blue">
            <span class="blue peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="third-peg" value="cyan">
            <span class="cyan peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="third-peg" value="magenta">
            <span class="magenta peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="third-peg" value="yellow">
            <span class="yellow peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="third-peg" value="green">
            <span class="green peg"></span>
          </label>
        </div>
        <div class="peg-selector">
          <label class="container">
            <input type="radio" name="fourth-peg" value="red">
            <span class="red peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="fourth-peg" value="blue">
            <span class="blue peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="fourth-peg" value="cyan">
            <span class="cyan peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="fourth-peg" value="magenta">
            <span class="magenta peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="fourth-peg" value="yellow">
            <span class="yellow peg"></span>
          </label>
          <label class="container">
            <input type="radio" name="fourth-peg" value="green">
            <span class="green peg"></span>
          </label>
        </div>
        <br><input class="submit-button" type="submit" value="Guess!"/>
      </form><br>
      <table class="feedback_window">
          <tr><td colspan="2" id="message">You guessed: 0 0 0 0</td></tr>
          <tr class="feedback"><td>Correct color AND position:</td><td>2</td></tr>
          <tr class="feedback"><td>Correct color:</td><td>3</td></tr>
      </table>
    </div>
  </body>
</html>